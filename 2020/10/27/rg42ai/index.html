<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>å¦‚ä½•å¯¹å†…å®¹åŠ å¯†ğŸ”? (å¯†ç ğŸ‘‰web) | è¯­é›€çŸ¥è¯†åº“</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="ä¸¤ç§æ–¹æ³• Nginx æˆæƒè®¿é—® Hexo-Blog-Encrypt  Nginx æˆæƒè®¿é—® å‰ç½®æ¡ä»¶ï¼šä½ çš„ Hexo åšå®¢æ­åœ¨ Nginx æœåŠ¡å™¨ï¼›  å®‰è£… htpasswd æ’ä»¶ 1sudo apt-get install apache2-utils åˆ›å»ºå¯†ç æ–‡ä»¶ï¼Œå¯†ç æ–‡ä»¶çš„è·¯å¾„pathå¯è‡ªå®šä¹‰ï¼Œä½†è¦ä¸ä¹‹åçš„Nginxé…ç½®ä¸­ä¿æŒä¸€è‡´, 1234sudo htpasswd -c &#x2F;path&#x2F;htp">
<meta property="og:type" content="article">
<meta property="og:title" content="å¦‚ä½•å¯¹å†…å®¹åŠ å¯†ğŸ”? (å¯†ç ğŸ‘‰web)">
<meta property="og:url" content="https://cxvh.github.io/2020/10/27/rg42ai/index.html">
<meta property="og:site_name" content="è¯­é›€çŸ¥è¯†åº“">
<meta property="og:description" content="ä¸¤ç§æ–¹æ³• Nginx æˆæƒè®¿é—® Hexo-Blog-Encrypt  Nginx æˆæƒè®¿é—® å‰ç½®æ¡ä»¶ï¼šä½ çš„ Hexo åšå®¢æ­åœ¨ Nginx æœåŠ¡å™¨ï¼›  å®‰è£… htpasswd æ’ä»¶ 1sudo apt-get install apache2-utils åˆ›å»ºå¯†ç æ–‡ä»¶ï¼Œå¯†ç æ–‡ä»¶çš„è·¯å¾„pathå¯è‡ªå®šä¹‰ï¼Œä½†è¦ä¸ä¹‹åçš„Nginxé…ç½®ä¸­ä¿æŒä¸€è‡´, 1234sudo htpasswd -c &#x2F;path&#x2F;htp">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-10-27T00:00:00.000Z">
<meta property="article:modified_time" content="2021-02-20T07:19:48.568Z">
<meta property="article:author" content="Baran">
<meta property="article:tag" content="encrypt">
<meta property="article:tag" content="ğŸ”">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/yuque/atom.xml" title="è¯­é›€çŸ¥è¯†åº“" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/yuque/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/yuque/css/style.css">

  
    
<link rel="stylesheet" href="/yuque/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/yuque/" id="logo">è¯­é›€çŸ¥è¯†åº“</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/yuque/">Home</a>
        
          <a class="main-nav-link" href="/yuque/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/yuque/atom.xml" title="RSS è®¢é˜…"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="æœç´¢"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="æœç´¢"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://cxvh.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-rg42ai" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/yuque/2020/10/27/rg42ai/" class="article-date">
  <time class="dt-published" datetime="2020-10-27T00:00:00.000Z" itemprop="datePublished">2020-10-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/yuque/categories/hexo/">hexo</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      å¦‚ä½•å¯¹å†…å®¹åŠ å¯†ğŸ”? (å¯†ç ğŸ‘‰web)
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="ä¸¤ç§æ–¹æ³•"><a href="#ä¸¤ç§æ–¹æ³•" class="headerlink" title="ä¸¤ç§æ–¹æ³•"></a>ä¸¤ç§æ–¹æ³•</h2><ul>
<li>Nginx æˆæƒè®¿é—®</li>
<li>Hexo-Blog-Encrypt</li>
</ul>
<h3 id="Nginx-æˆæƒè®¿é—®"><a href="#Nginx-æˆæƒè®¿é—®" class="headerlink" title="Nginx æˆæƒè®¿é—®"></a>Nginx æˆæƒè®¿é—®</h3><blockquote>
<p>å‰ç½®æ¡ä»¶ï¼šä½ çš„ Hexo åšå®¢æ­åœ¨ Nginx æœåŠ¡å™¨ï¼›</p>
</blockquote>
<p>å®‰è£… htpasswd æ’ä»¶</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install apache2-utils</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºå¯†ç æ–‡ä»¶ï¼Œå¯†ç æ–‡ä»¶çš„è·¯å¾„<code>path</code>å¯è‡ªå®šä¹‰ï¼Œä½†è¦ä¸ä¹‹åçš„<code>Nginx</code>é…ç½®ä¸­ä¿æŒä¸€è‡´,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo htpasswd -c /path/htpasswd username</span><br><span class="line">New password:</span><br><span class="line">Re-type new password:</span><br><span class="line">Adding password <span class="keyword">for</span> user username</span><br></pre></td></tr></table></figure>
<p>é…ç½® nginx æœåŠ¡å™¨</p>
<blockquote>
<p>ç‰¹å®šè®¿é—®ç›®å½•åŠ å¯†å¤„ç†,location åé¢çš„è·¯å¾„æ˜¯ä½ æƒ³è¦åŠ å¯†çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼Œå…·ä½“å¯é€šè¿‡ä½  Hexo ç”Ÿæˆçš„ public æ–‡ä»¶å¤¹æŸ¥æ‰¾ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name www.oneonecity.com www.oneonecity.cn;</span><br><span class="line">    root &#x2F;var&#x2F;www&#x2F;blog&#x2F;public;</span><br><span class="line">    index index.html ;</span><br><span class="line">    charset utf-8;</span><br><span class="line">    access_log logs&#x2F;access.log;</span><br><span class="line">    error_log logs&#x2F;error.log;</span><br><span class="line"></span><br><span class="line">    location &#x2F;webHook &#123;</span><br><span class="line">            proxy_pass http:&#x2F;&#x2F;127.0.0.1:7777;</span><br><span class="line">    &#125;</span><br><span class="line">    # ç‰¹å®šè®¿é—®ç›®å½•åŠ å¯†å¤„ç†,locationåé¢çš„è·¯å¾„æ˜¯ä½ æƒ³è¦åŠ å¯†çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼Œå…·ä½“å¯é€šè¿‡ä½ Hexoç”Ÿæˆçš„publicæ–‡ä»¶å¤¹æŸ¥æ‰¾ï¼š</span><br><span class="line">    location ^~&#x2F;1991&#x2F;08&#x2F;07&#x2F;&#123;</span><br><span class="line">            auth_basic &quot;Please input your name and passeord:&quot;;</span><br><span class="line">            auth_basic_user_file &#x2F;path&#x2F;htpasswd;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‡æ–°è½½å…¥<code>Nginxé…ç½®</code>æ–‡ä»¶ä½¿ä¹‹ç”Ÿæ•ˆ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service nginx reload</span><br></pre></td></tr></table></figure>
<p>è®¿é—®åŠ å¯†æ–‡ä»¶è¿›è¡ŒéªŒè¯</p>
<hr>
<h3 id="Hexo-Blog-Encrypt"><a href="#Hexo-Blog-Encrypt" class="headerlink" title="Hexo-Blog-Encrypt"></a>Hexo-Blog-Encrypt</h3><p>ä½¿ç”¨ demo</p>
<blockquote>
<p>é¦–å…ˆåœ¨ <code>_config.yml</code> ä¸­å¯ç”¨è¯¥æ’ä»¶</p>
</blockquote>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># Security</span></span><br><span class="line"></span><br><span class="line"><span class="section">##</span></span><br><span class="line"></span><br><span class="line">encrypt:</span><br><span class="line">enable: true</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨ä½ çš„æ–‡ç« çš„å¤´éƒ¨æ·»åŠ ä¸Šå¯¹åº”çš„å­—æ®µï¼Œå¦‚ <code>password</code>, <code>abstract</code>, <code>message</code></p>
</blockquote>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: hello world</span><br><span class="line">date: 2016-03-30 21:18:02</span><br><span class="line">tags:</span><br><span class="line"><span class="bullet">  -</span> fdsafsdaf</span><br><span class="line">password: Mike</span><br><span class="line">abstract: Welcome to my blog, enter password to read.</span><br><span class="line">message: Welcome to my blog, enter password to read.</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<hr>
<blockquote>
<p>ä»¥ä¸‹å†…å®¹æ¥è‡ªè¯¥æ’ä»¶çš„ä¸­æ–‡è¯´æ˜æ–‡æ¡£ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/D0n9X1n/hexo-blog-encrypt">è¯¦è§ github</a>ã€‚</p>
</blockquote>
<blockquote>
<p>æ <code>issue</code> ä¹‹å‰ï¼Œè¯·åŠ¡å¿…æä¾›å¤ç°æ–¹å¼ï¼Œ<code>log</code>ï¼Œé…ç½®ä¿¡æ¯ç­‰å¿…è¦ä¿¡æ¯ã€‚è‰¯å¥½çš„ <code>issue</code> å¯ä»¥èŠ‚çœåŒæ–¹çš„æ—¶é—´ã€‚</p>
</blockquote>
<p><em>è¯·ä¸¥æ ¼æŒ‰ç…§æ¨¡ç‰ˆè¦æ±‚ï¼Œä¸æ˜ç¡®çš„ <code>issue</code> å°†ç›´æ¥å…³é—­ã€‚</em></p>
<p><strong>å‚è€ƒ issue:</strong></p>
<blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/MikeCoder/hexo-blog-encrypt/issues/83">Issue 83</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/MikeCoder/hexo-blog-encrypt/issues/68">Issue 68</a></li>
</ul>
</blockquote>
<h4 id="è¿™æ˜¯ä¸ªå•¥"><a href="#è¿™æ˜¯ä¸ªå•¥" class="headerlink" title="è¿™æ˜¯ä¸ªå•¥"></a>è¿™æ˜¯ä¸ªå•¥</h4><ul>
<li><p><del>é¦–å…ˆ, è¿™æ˜¯ Hexo ç”Ÿæ€åœˆä¸­ <strong>æœ€å¥½çš„</strong> åšå®¢åŠ å¯†æ’ä»¶</del></p>
</li>
<li><p>ä½ å¯èƒ½éœ€è¦å†™ä¸€äº›ç§å¯†çš„åšå®¢, é€šè¿‡å¯†ç éªŒè¯çš„æ–¹å¼è®©äººä¸èƒ½éšæ„æµè§ˆ.</p>
</li>
<li><p>è¿™åœ¨ <code>wordpress, emlog</code> æˆ–æ˜¯å…¶ä»–åšå®¢ç³»ç»Ÿä¸­éƒ½å¾ˆå®¹æ˜“å®ç°, ç„¶è€Œ <code>hexo</code> é™¤å¤–. :(</p>
</li>
<li><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜, è®©æˆ‘ä»¬æœ‰è¯· â€œhexo-blog-encryptâ€.</p>
</li>
</ul>
<h4 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h4><ul>
<li><p>ä¸€æ—¦ä½ è¾“å…¥äº†æ­£ç¡®çš„å¯†ç , å®ƒå°†ä¼šè¢«å­˜å‚¨åœ¨æœ¬åœ°æµè§ˆå™¨çš„ localStorage ä¸­. æŒ‰ä¸ªæŒ‰é’®, å¯†ç å°†ä¼šè¢«æ¸…ç©º. è‹¥åšå®¢ä¸­åˆè„šæœ¬, å®ƒå°†ä¼šè¢«æ­£ç¡®åœ°æ‰§è¡Œ.</p>
</li>
<li><p>æ”¯æŒæŒ‰æ ‡ç­¾åŠ å¯†.</p>
</li>
<li><p>æ‰€æœ‰çš„æ ¸å¿ƒåŠŸèƒ½éƒ½æ˜¯ç”±åŸç”Ÿçš„ API æ‰€æä¾›çš„. åœ¨ Node.js ä¸­, æˆ‘ä»¬ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://nodejs.org/dist/latest-v12.x/docs/api/crypto.html">Crypto</a>. åœ¨æµè§ˆå™¨ä¸­, æˆ‘ä»¬ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API">Web Crypto API</a>.</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc2898">PBKDF2</a>, <a target="_blank" rel="noopener" href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">SHA256</a> è¢«ç”¨äºåˆ†å‘å¯†é’¥, <a target="_blank" rel="noopener" href="https://csrc.nist.gov/publications/detail/sp/800-38a/final">AES256-CBC</a> è¢«ç”¨äºåŠ è§£å¯†, æˆ‘ä»¬è¿˜ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://csrc.nist.gov/csrc/media/publications/fips/198/1/final/documents/fips-198-1_final.pdf">HMAC</a> æ¥éªŒè¯å¯†æ–‡çš„æ¥æº, å¹¶ç¡®ä¿å…¶æœªè¢«ç¯¡æ”¹.</p>
</li>
<li><p>æˆ‘ä»¬å¹¿æ³›åœ°ä½¿ç”¨ Promise æ¥è¿›è¡Œå¼‚æ­¥æ“ä½œ, ä»¥æ­¤ç¡®ä¿çº¿ç¨‹ä¸è¢«æœå¡.</p>
</li>
<li><p>è¿‡æ—¶çš„æµè§ˆå™¨å°†ä¸èƒ½æ­£å¸¸æ˜¾ç¤º, å› æ­¤, è¯·å‡çº§æ‚¨çš„æµè§ˆå™¨.</p>
</li>
</ul>
<h4 id="åœ¨çº¿æ¼”ç¤º"><a href="#åœ¨çº¿æ¼”ç¤º" class="headerlink" title="åœ¨çº¿æ¼”ç¤º"></a>åœ¨çº¿æ¼”ç¤º</h4><ul>
<li>ç‚¹å‡» <a target="_blank" rel="noopener" href="https://mhexo.github.io/">Demo Page</a>, <strong>æ‰€æœ‰çš„å¯†ç éƒ½æ˜¯ <code>hello</code></strong>.</li>
</ul>
<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><ul>
<li><p><code>npm install --save hexo-blog-encrypt</code></p>
</li>
<li><p>æˆ– <code>yarn add hexo-blog-encrypt</code> (éœ€è¦) <a target="_blank" rel="noopener" href="https://yarnpkg.com/en/">Yarn</a>)</p>
</li>
</ul>
<h4 id="å¿«é€Ÿä½¿ç”¨"><a href="#å¿«é€Ÿä½¿ç”¨" class="headerlink" title="å¿«é€Ÿä½¿ç”¨"></a>å¿«é€Ÿä½¿ç”¨</h4><ul>
<li>å°† â€œpasswordâ€ å­—æ®µæ·»åŠ åˆ°æ‚¨æ–‡ç« ä¿¡æ¯å¤´å°±åƒè¿™æ ·.</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">date: 2016-03-30 21:18:02</span><br><span class="line">password: mikemessi</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<ul>
<li>å†ä½¿ç”¨ <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code> åœ¨æœ¬åœ°é¢„è§ˆåŠ å¯†çš„æ–‡ç« .</li>
</ul>
<h4 id="è®¾ç½®ä¼˜å…ˆçº§"><a href="#è®¾ç½®ä¼˜å…ˆçº§" class="headerlink" title="è®¾ç½®ä¼˜å…ˆçº§"></a>è®¾ç½®ä¼˜å…ˆçº§</h4><p>æ–‡ç« ä¿¡æ¯å¤´ &gt; æŒ‰æ ‡ç­¾åŠ å¯†</p>
<h4 id="é«˜çº§è®¾ç½®"><a href="#é«˜çº§è®¾ç½®" class="headerlink" title="é«˜çº§è®¾ç½®"></a>é«˜çº§è®¾ç½®</h4><h5 id="æ–‡ç« ä¿¡æ¯å¤´"><a href="#æ–‡ç« ä¿¡æ¯å¤´" class="headerlink" title="æ–‡ç« ä¿¡æ¯å¤´"></a>æ–‡ç« ä¿¡æ¯å¤´</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">tags:</span><br><span class="line"><span class="bullet">  -</span> ä½œä¸ºç¬”è®°åŠ å¯†</span><br><span class="line">date: 2016-03-30 21:12:21</span><br><span class="line">password: mikemessi</span><br><span class="line">abstract: æœ‰ä¸œè¥¿è¢«åŠ å¯†äº†, è¯·è¾“å…¥å¯†ç æŸ¥çœ‹.</span><br><span class="line">message: æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span><br><span class="line">wrong<span class="emphasis">_pass_</span>message: æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•.</span><br><span class="line">wrong<span class="emphasis">_hash_</span>message: æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<h5 id="config-yml"><a href="#config-yml" class="headerlink" title="_config.yml"></a><code>_config.yml</code></h5><h6 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h6><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Security</span></span><br><span class="line"><span class="attr">encrypt:</span> <span class="comment"># hexo-blog-encrypt</span></span><br><span class="line">  <span class="attr">abstract:</span> <span class="string">æœ‰ä¸œè¥¿è¢«åŠ å¯†äº†,</span> <span class="string">è¯·è¾“å…¥å¯†ç æŸ¥çœ‹.</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">æ‚¨å¥½,</span> <span class="string">è¿™é‡Œéœ€è¦å¯†ç .</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> &#123; <span class="attr">name:</span> <span class="string">tagName</span>, <span class="attr">password:</span> <span class="string">å¯†ç A</span> &#125;</span><br><span class="line">    <span class="bullet">-</span> &#123; <span class="attr">name:</span> <span class="string">tagName</span>, <span class="attr">password:</span> <span class="string">å¯†ç B</span> &#125;</span><br><span class="line">  <span class="attr">template:</span> <span class="string">&lt;div</span> <span class="string">id=&quot;hexo-blog-encrypt&quot;</span> <span class="string">data-wpm=&quot;&#123;&#123;hbeWrongPassMessage&#125;&#125;&quot;</span> <span class="string">data-whm=&quot;&#123;&#123;hbeWrongHashMessage&#125;&#125;&quot;&gt;&lt;div</span> <span class="string">class=&quot;hbe-input-container&quot;&gt;&lt;input</span> <span class="string">type=&quot;password&quot;</span> <span class="string">id=&quot;hbePass&quot;</span> <span class="string">placeholder=&quot;&#123;&#123;hbeMessage&#125;&#125;&quot;</span> <span class="string">/&gt;&lt;label&gt;&#123;&#123;hbeMessage&#125;&#125;&lt;/label&gt;&lt;div</span> <span class="string">class=&quot;bottom-line&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;script</span> <span class="string">id=&quot;hbeData&quot;</span> <span class="string">type=&quot;hbeData&quot;</span> <span class="string">data-hmacdigest=&quot;&#123;&#123;hbeHmacDigest&#125;&#125;&quot;&gt;&#123;&#123;hbeEncryptedData&#125;&#125;&lt;/script&gt;&lt;/div&gt;</span></span><br><span class="line">  <span class="attr">wrong_pass_message:</span> <span class="string">æŠ±æ­‰,</span> <span class="string">è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹,</span> <span class="string">è¯·å†è¯•è¯•.</span></span><br><span class="line">  <span class="attr">wrong_hash_message:</span> <span class="string">æŠ±æ­‰,</span> <span class="string">è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ,</span> <span class="string">ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.</span></span><br></pre></td></tr></table></figure>
<h6 id="å¯¹åšæ–‡ç¦ç”¨-Tag-åŠ å¯†"><a href="#å¯¹åšæ–‡ç¦ç”¨-Tag-åŠ å¯†" class="headerlink" title="å¯¹åšæ–‡ç¦ç”¨ Tag åŠ å¯†"></a>å¯¹åšæ–‡ç¦ç”¨ Tag åŠ å¯†</h6><p>åªéœ€è¦å°†åšæ–‡å¤´éƒ¨çš„ <code>password</code> è®¾ç½®ä¸º <code>&quot;&quot;</code> å³å¯å–æ¶ˆ Tag åŠ å¯†.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Callback Test</span><br><span class="line">date: 2019-12-21 11:54:07</span><br><span class="line">tags:</span><br><span class="line">    - A Tag should be encrypted</span><br><span class="line">password: &quot;&quot;</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">Use a &quot;&quot; to diable tag encryption.</span><br></pre></td></tr></table></figure>
<h5 id="é…ç½®ä¼˜å…ˆçº§"><a href="#é…ç½®ä¼˜å…ˆçº§" class="headerlink" title="é…ç½®ä¼˜å…ˆçº§"></a>é…ç½®ä¼˜å…ˆçº§</h5><p>æ–‡ç« ä¿¡æ¯å¤´ &gt; <code>_config.yml</code> (ç«™ç‚¹æ ¹ç›®å½•ä¸‹çš„) &gt; é»˜è®¤é…ç½®</p>
<h5 id="å…³äº-Callback-å‡½æ•°"><a href="#å…³äº-Callback-å‡½æ•°" class="headerlink" title="å…³äº Callback å‡½æ•°"></a>å…³äº Callback å‡½æ•°</h5><p>åœ¨éƒ¨åˆ†åšå®¢ä¸­, è§£å¯†åéƒ¨åˆ†å…ƒç´ å¯èƒ½æ— æ³•æ­£å¸¸æ˜¾ç¤ºæˆ–è€…è¡¨ç°, è¿™å±äºå·²çŸ¥é—®é¢˜. ç›®å‰çš„è§£å†³åŠæ³•æ˜¯é€šè¿‡è‡ªè¡ŒæŸ¥é˜…è‡ªå·±çš„åšå®¢ä¸­çš„ä»£ç , äº†è§£åˆ°åœ¨ onload äº‹ä»¶å‘ç”Ÿæ—¶è°ƒç”¨äº†å“ªäº›å‡½æ•°, å¹¶å°†è¿™äº›å‡½æ•°æŒ‘é€‰åå†™å…¥åˆ°åšå®¢å†…å®¹ä¸­. å¦‚:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Callback Test</span><br><span class="line">date: 2019-12-21 11:54:07</span><br><span class="line">tags:</span><br><span class="line">    - Encrypted</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">This is a blog to test Callback functions. You just need to add code at the last of your post like following:</span><br><span class="line"></span><br><span class="line">It will be called after the blog decrypted.</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    &#x2F;&#x2F; æ·»åŠ ä¸€ä¸ª script tag ä¸ä»£ç åœ¨æ–‡ç« æœ«å°¾.</span><br><span class="line">    alert(&quot;Hello World&quot;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p>ä¾‹å­åœ¨: <a target="_blank" rel="noopener" href="https://mhexo.github.io/2019/12/21/CallbackTest/">Callback ä¾‹å­</a>.</p>
<h5 id="å¯¹-TOC-è¿›è¡ŒåŠ å¯†"><a href="#å¯¹-TOC-è¿›è¡ŒåŠ å¯†" class="headerlink" title="å¯¹ TOC è¿›è¡ŒåŠ å¯†"></a>å¯¹ TOC è¿›è¡ŒåŠ å¯†</h5><p>å¦‚æœä½ æœ‰ä¸€ç¯‡æ–‡ç« ä½¿ç”¨äº† TOCï¼Œä½ éœ€è¦ä¿®æ”¹æ¨¡æ¿çš„éƒ¨åˆ†ä»£ç ã€‚è¿™é‡Œç”¨ landscape ä½œä¸ºä¾‹å­ï¼š</p>
<ul>
<li>ä½ å¯ä»¥åœ¨ hexo/themes/landscape/layout/_partial/article.ejs æ‰¾åˆ° article.ejsã€‚</li>
<li>ç„¶åæ‰¾åˆ° &lt;% post.content %&gt; è¿™æ®µä»£ç ï¼Œé€šå¸¸åœ¨ 30 è¡Œå·¦å³ã€‚</li>
<li>ä½¿ç”¨å¦‚ä¸‹çš„ä»£ç æ¥æ›¿ä»£å®ƒ:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if(post.toc &#x3D;&#x3D; true)&#123; %&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;toc-div&quot; class&#x3D;&quot;toc-article&quot; &lt;% if (post.encrypt &#x3D;&#x3D; true) &#123; %&gt;style&#x3D;&quot;display:none&quot; &lt;% &#125; %&gt;&gt;</span><br><span class="line">    &lt;strong class&#x3D;&quot;toc-title&quot;&gt;Index&lt;&#x2F;strong&gt;</span><br><span class="line">      &lt;% if (post.encrypt &#x3D;&#x3D; true) &#123; %&gt;</span><br><span class="line">        &lt;%- toc(post.origin, &#123;list_number: true&#125;) %&gt;</span><br><span class="line">      &lt;% &#125; else &#123; %&gt;</span><br><span class="line">        &lt;%- toc(post.content, &#123;list_number: true&#125;) %&gt;</span><br><span class="line">      &lt;% &#125; %&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line">&lt;%- post.content %&gt;</span><br></pre></td></tr></table></figure>
<h4 id="è®¸å¯"><a href="#è®¸å¯" class="headerlink" title="è®¸å¯"></a>è®¸å¯</h4><p>çœ‹çœ‹ <a href="./LICENSE">LICENSE</a>.</p>
<h4 id="æ„Ÿè°¢"><a href="#æ„Ÿè°¢" class="headerlink" title="æ„Ÿè°¢"></a>æ„Ÿè°¢</h4><p>Collaborator - <a target="_blank" rel="noopener" href="https://github.com/xiazeyu">xiazeyu</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://cxvh.github.io/2020/10/27/rg42ai/" data-id="cklde6nnt00041on1h0pn4e92" data-title="å¦‚ä½•å¯¹å†…å®¹åŠ å¯†ğŸ”? (å¯†ç ğŸ‘‰web)" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/yuque/tags/encrypt/" rel="tag">encrypt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/yuque/tags/%F0%9F%94%90/" rel="tag">ğŸ”</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/yuque/2020/11/03/poagn1/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">å‰ä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          Markdown å¤§å…¨ â›…
        
      </div>
    </a>
  
  
    <a href="/yuque/2020/10/22/pydihy/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">åä¸€ç¯‡</strong>
      <div class="article-nav-title">ä»é›¶å¼€å§‹å¼€å‘ä¸€ä¸ªhexoåšå®¢ ğŸ˜‹</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">åˆ†ç±»</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/yuque/categories/Markdown/">Markdown</a></li><li class="category-list-item"><a class="category-list-link" href="/yuque/categories/hexo/">hexo</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/yuque/tags/encrypt/" rel="tag">encrypt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/yuque/tags/music/" rel="tag">music</a></li><li class="tag-list-item"><a class="tag-list-link" href="/yuque/tags/M/" rel="tag">â“‚</a></li><li class="tag-list-item"><a class="tag-list-link" href="/yuque/tags/%E5%9F%BA%E7%A1%80/" rel="tag">åŸºç¡€</a></li><li class="tag-list-item"><a class="tag-list-link" href="/yuque/tags/%F0%9F%94%90/" rel="tag">ğŸ”</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/yuque/tags/encrypt/" style="font-size: 10px;">encrypt</a> <a href="/yuque/tags/music/" style="font-size: 10px;">music</a> <a href="/yuque/tags/M/" style="font-size: 10px;">â“‚</a> <a href="/yuque/tags/%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">åŸºç¡€</a> <a href="/yuque/tags/%F0%9F%94%90/" style="font-size: 10px;">ğŸ”</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/yuque/archives/2020/12/">åäºŒæœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/yuque/archives/2020/11/">åä¸€æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/yuque/archives/2020/10/">åæœˆ 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/yuque/2020/12/29/rbblqy/">hexo ä½¿ç”¨ QQéŸ³ä¹ ğŸ˜‹</a>
          </li>
        
          <li>
            <a href="/yuque/2020/11/03/poagn1/">Markdown å¤§å…¨ â›…</a>
          </li>
        
          <li>
            <a href="/yuque/2020/10/27/rg42ai/">å¦‚ä½•å¯¹å†…å®¹åŠ å¯†ğŸ”? (å¯†ç ğŸ‘‰web)</a>
          </li>
        
          <li>
            <a href="/yuque/2020/10/22/pydihy/">ä»é›¶å¼€å§‹å¼€å‘ä¸€ä¸ªhexoåšå®¢ ğŸ˜‹</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 Baran<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/yuque/" class="mobile-nav-link">Home</a>
  
    <a href="/yuque/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/yuque/js/jquery-3.4.1.min.js"></script>



  
<script src="/yuque/fancybox/jquery.fancybox.min.js"></script>




<script src="/yuque/js/script.js"></script>





  </div>
</body>
</html>